# Database connection
DATABASE_URL=postgresql://username:password@localhost:5432/bugspotter

# Server configuration
PORT=3000
NODE_ENV=development

# JWT Secret (generate with: openssl rand -base64 32)
JWT_SECRET=your-secret-key-here

# Optional: Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT_MS=30000
DB_IDLE_TIMEOUT_MS=30000
DB_RETRY_ATTEMPTS=3
DB_RETRY_DELAY_MS=1000

# Optional: API rate limiting (1 minute window, 100 requests per minute)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration (comma-separated list of allowed origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# JWT Token Expiration
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# File Upload Limits (in bytes, default 10MB)
MAX_UPLOAD_SIZE=10485760

# Logging Level (debug, info, warn, error)
LOG_LEVEL=info

# ===================================
# Storage Configuration
# ===================================

# Storage backend: local, s3, minio, or r2
STORAGE_BACKEND=local

# Local Storage (for development/testing)
STORAGE_BASE_DIR=./data/uploads
STORAGE_BASE_URL=http://localhost:3000/uploads

# S3-Compatible Storage (AWS S3, MinIO, Cloudflare R2)
# Uncomment and configure when using S3-compatible storage

# S3_ENDPOINT=                    # Optional: for MinIO/R2 (e.g., http://localhost:9000)
# S3_REGION=us-east-1            # AWS region or MinIO region
# S3_ACCESS_KEY=                  # AWS Access Key ID or MinIO access key
# S3_SECRET_KEY=                  # AWS Secret Access Key or MinIO secret key
# S3_BUCKET=bugspotter           # Bucket name
# S3_FORCE_PATH_STYLE=true       # Required for MinIO (false for AWS S3)
# S3_MAX_RETRIES=3               # Number of retry attempts
# S3_TIMEOUT_MS=30000            # Request timeout in milliseconds

# Example MinIO Configuration:
# STORAGE_BACKEND=minio
# S3_ENDPOINT=http://localhost:9000
# S3_REGION=us-east-1
# S3_ACCESS_KEY=minioadmin
# S3_SECRET_KEY=minioadmin
# S3_BUCKET=bugspotter
# S3_FORCE_PATH_STYLE=true

# Example AWS S3 Configuration:
# STORAGE_BACKEND=s3
# S3_REGION=us-east-1
# S3_ACCESS_KEY=AKIAIOSFODNN7EXAMPLE
# S3_SECRET_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
# S3_BUCKET=bugspotter-prod

# Example Cloudflare R2 Configuration:
# STORAGE_BACKEND=r2
# S3_ENDPOINT=https://account-id.r2.cloudflarestorage.com
# S3_REGION=auto
# S3_ACCESS_KEY=your-r2-access-key
# S3_SECRET_KEY=your-r2-secret-key
# S3_BUCKET=bugspotter
